{"messages": [{"role": "system", "content": "You are an expert SAP S/4HANA Finance consultant specializing in Financial Accounting (FI) and Controlling (CO) modules."}, {"role": "user", "content": "What is the purpose of transaction code FB70?"}, {"role": "assistant", "content": "FB70 is the SAP transaction code used to post customer invoices in the Accounts Receivable (AR) sub-module.\n\n**Primary Functions**:\n1. Create customer invoices outside of SD module\n2. Post direct invoices to customers\n3. Manual billing for services or adjustments\n4. Create credit memos for customers\n\n**Key Steps**:\n1. Enter customer account number\n2. Enter invoice amount (debit to customer)\n3. Enter revenue G/L account (credit)\n4. Apply tax codes if applicable\n5. Enter reference and text\n6. Post the document\n\n**Common Use Cases**:\n- Service billing not in SD\n- Manual adjustments\n- Consulting fees\n- One-time charges\n- Correction postings\n\n**Note**: For standard sales processes, use SD module integration (VF01/VF02) instead of FB70."}]}
{"messages": [{"role": "system", "content": "You are an expert SAP S/4HANA Finance consultant specializing in Financial Accounting (FI) and Controlling (CO) modules."}, {"role": "user", "content": "How do I create a company code in SAP?"}, {"role": "assistant", "content": "Creating a company code is a fundamental configuration step in SAP. Here's the process:\n\n**Transaction Code**: OX02 (or via SPRO)\n\n**Steps**:\n\n**Option 1: Copy Existing Company Code**\n1. Execute transaction OX02\n2. Click 'Copy, delete, check company code'\n3. Enter source company code (template)\n4. Enter target company code (new)\n5. Execute to copy structure\n\n**Option 2: Create from Scratch**\n1. Transaction OX02\n2. New Entries\n3. Enter 4-character company code (e.g., 1000)\n4. Enter company name\n5. Enter city and country\n6. Enter currency\n7. Enter language\n8. Save\n\n**Post-Creation Configuration**:\n\n1. **Assign to Chart of Accounts** (OB62)\n   - Define which CoA to use\n\n2. **Fiscal Year Variant** (OB29)\n   - Define posting periods\n\n3. **Posting Period Variant** (OBBO)\n   - Control open/closed periods\n\n4. **Field Status Variants** (OBC4)\n   - Control field display\n\n5. **Tolerance Groups** (OBA4)\n   - Define posting limits\n\n**Best Practice**: Always copy from an existing company code to ensure complete configuration, then modify as needed."}]}
{"messages": [{"role": "system", "content": "You are an expert SAP S/4HANA Finance consultant specializing in Financial Accounting (FI) and Controlling (CO) modules."}, {"role": "user", "content": "What is asset class in SAP Asset Accounting?"}, {"role": "assistant", "content": "Asset Class is a classification and grouping mechanism in SAP Asset Accounting (FI-AA) that defines the characteristics and behavior of fixed assets.\n\n**Purpose**:\n- Group similar assets together\n- Control account determination\n- Define depreciation areas\n- Standardize data entry\n- Enable consistent reporting\n\n**Key Components**:\n\n**1. Asset Class Examples**:\n- 1000: Buildings\n- 2000: Machinery and equipment\n- 3000: Vehicles\n- 4000: Furniture and fixtures\n- 5000: Computer equipment\n- 6000: Leasehold improvements\n\n**2. Configuration Elements**:\n\n**Account Determination**:\n- Asset account (balance sheet)\n- Accumulated depreciation\n- Depreciation expense\n- Asset retirement gain/loss\n- Investment support accounts\n\n**Depreciation Setup**:\n- Depreciation areas (01-99)\n- Depreciation keys per area\n- Useful life defaults\n- Scrap value percentages\n\n**Screen Layout**:\n- Controls which fields are:\n  * Required\n  * Optional\n  * Hidden\n- Example: License plate for vehicles\n\n**Number Range**:\n- Defines asset numbering\n- Can be internal or external\n- Per asset class\n\n**3. Master Data Defaults**:\n- Asset class provides defaults for:\n  * Useful life\n  * Depreciation key\n  * Asset main number range\n  * G/L accounts\n\n**Transaction Codes**:\n- AS03: Display asset class\n- OAOA: Define asset classes\n- AO90: Specify account determination\n- OAYZ: Maintain depreciation areas\n\n**Example Configuration Flow**:\n\n1. Create asset class: OAOA\n2. Assign number range: AS08\n3. Configure account determination: AO90\n4. Set depreciation areas: OAYZ\n5. Define screen layout: OAOA\n\n**When Creating Asset** (AS01):\n- Select asset class\n- System proposes:\n  * G/L accounts\n  * Depreciation keys\n  * Useful life\n  * Screen layout\n- User completes specific data\n\n**Best Practices**:\n1. Define asset classes by business grouping\n2. Keep structure simple and maintainable\n3. Use consistent naming conventions\n4. Document asset class purposes\n5. Test account determination thoroughly\n6. Align with chart of accounts structure"}]}
{"messages": [{"role": "system", "content": "You are an expert SAP S/4HANA Finance consultant specializing in Financial Accounting (FI) and Controlling (CO) modules."}, {"role": "user", "content": "Explain posting keys in SAP FI."}, {"role": "assistant", "content": "Posting keys are fundamental to SAP FI, determining the characteristics of a line item in an accounting document.\n\n**Definition**:\nA 2-digit numerical code that controls:\n- Account type (G/L, customer, vendor, asset)\n- Debit or credit posting\n- Field status (which fields are required/optional/hidden)\n\n**Standard Posting Keys**:\n\n**G/L Accounts**:\n- 40: G/L account debit\n- 50: G/L account credit\n\n**Customers**:\n- 01: Customer debit (invoice)\n- 11: Customer credit (payment, credit memo)\n\n**Vendors**:\n- 21: Vendor credit (invoice)\n- 31: Vendor debit (payment, debit memo)\n\n**Assets**:\n- 70: Asset debit (acquisition)\n- 75: Asset credit (retirement)\n\n**Key Characteristics**:\n\n**1. Account Type Control**:\n- Determines which account type can be posted\n- Example: Posting key 40 only allows G/L accounts\n\n**2. Debit/Credit Indicator**:\n- Posting key contains D/C information\n- System validates based on account type\n\n**3. Field Status**:\n- Controls field display in posting transaction\n- Required: Must be filled\n- Optional: Can be filled\n- Hidden: Not displayed\n- Display only: Cannot be changed\n\n**Example Posting**:\n\n```\nDocument: Invoice Receipt\n\nLine 1:\nPosting Key: 40 (G/L debit)\nAccount: 400000 (Material expense)\nAmount: 1,000\n\nLine 2:\nPosting Key: 21 (Vendor credit)\nAccount: VENDOR-001\nAmount: 1,000\n```\n\n**Configuration**:\n\nTransaction: OB41 (Define posting keys)\n\nSettings per posting key:\n- Account type\n- Debit/credit indicator\n- Sales related\n- Payment transaction\n- Reversal posting key\n- Field status group reference\n\n**Field Status Control**:\n\nCombination determines field behavior:\n1. Posting key field status\n2. G/L account field status\n3. Company code field status\n\n**Priority**: Most restrictive wins\n- If any requires: Field is required\n- If all optional: Field is optional\n- If any suppresses: Field is hidden\n\n**Special Posting Keys**:\n\n**Special G/L Transactions**:\n- 09: Down payment request (customer)\n- 19: Down payment (vendor)\n- 29: Bill of exchange\n- 39: Noted items\n\n**Clearing Transactions**:\n- 25: Vendor clearing\n- 15: Customer clearing\n\n**Custom Posting Keys**:\n\nOrganizations can create custom posting keys:\n- Use number range 60-89 (recommended)\n- Define account type\n- Set debit/credit\n- Configure field status\n\n**Example Use Case**:\n```\nCustom Posting Key 85:\n- G/L credit with special field requirements\n- Used for specific accrual postings\n- Forces cost center entry\n- Custom field validations\n```\n\n**Common Errors**:\n\n1. **Wrong posting key selected**:\n   - Symptom: \"Account type does not match posting key\"\n   - Solution: Use correct posting key for account type\n\n2. **Required field missing**:\n   - Symptom: \"Field X is required\"\n   - Solution: Check field status configuration\n\n3. **Debit instead of credit**:\n   - Symptom: Document doesn't balance\n   - Solution: Use correct posting key (40 vs 50)\n\n**Best Practices**:\n\n1. **Use standard posting keys** when possible\n2. **Document custom posting keys** if created\n3. **Train users** on correct posting key usage\n4. **Test field status** for all scenarios\n5. **Minimize custom posting keys** for simplicity\n\n**Related Concepts**:\n\n- Field status groups (OBC4)\n- Document types (OBA7)\n- Field status variants (OBC5)\n- Validation rules (OB28)\n\n**Integration**:\n\nPosting keys work with:\n- Batch input programs\n- IDocs\n- API integrations\n- Fiori apps\n\nAll must specify correct posting keys for successful document creation."}]}